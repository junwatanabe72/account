/* 統一カラースキーム - CSS変数定義 */

:root {
  /* Brand Colors - Primary */
  --color-primary-50: #e6f0ff;
  --color-primary-100: #b3d1ff;
  --color-primary-200: #80b3ff;
  --color-primary-300: #4d94ff;
  --color-primary-400: #1a75ff;
  --color-primary-500: #0056b3;
  --color-primary-600: #004590;
  --color-primary-700: #003d82;
  --color-primary-800: #002d61;
  --color-primary-900: #001d41;
  
  /* Brand Colors - Secondary */
  --color-secondary-50: #f5f6f7;
  --color-secondary-100: #e1e3e5;
  --color-secondary-200: #cdd1d4;
  --color-secondary-300: #b9bec3;
  --color-secondary-400: #a5abb2;
  --color-secondary-500: #6c757d;
  --color-secondary-600: #5a6268;
  --color-secondary-700: #495057;
  --color-secondary-800: #383d42;
  --color-secondary-900: #272b2e;
  
  /* Bootstrap Colors */
  --bs-primary: #0056b3;
  --bs-secondary: #6c757d;
  --bs-success: #28a745;
  --bs-danger: #dc3545;
  --bs-warning: #ffc107;
  --bs-info: #17a2b8;
  --bs-light: #f8f9fa;
  --bs-dark: #343a40;
  
  /* Semantic Colors - Bootstrap Compatible */
  --color-primary: #0056b3;
  --color-secondary: #6c757d;
  --color-success: #28a745;
  --color-danger: #dc3545;
  --color-warning: #ffc107;
  --color-info: #17a2b8;
  --color-light: #f8f9fa;
  --color-dark: #343a40;
  
  /* Semantic Colors - Accounting Specific */
  --color-semantic-income: #28a745;
  --color-semantic-expense: #dc3545;
  --color-semantic-transfer: #007bff;
  --color-semantic-balance: #6c757d;
  --color-semantic-pending: #ffc107;
  --color-semantic-approved: #28a745;
  --color-semantic-rejected: #dc3545;
  
  /* System Colors - Background */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f8f9fa;
  --color-bg-tertiary: #e9ecef;
  --color-bg-inverse: #343a40;
  
  /* System Colors - Text */
  --color-text-primary: #212529;
  --color-text-secondary: #495057;
  --color-text-muted: #6c757d;
  --color-text-light: #adb5bd;
  --color-text-inverse: #ffffff;
  
  /* System Colors - Border */
  --color-border-light: #dee2e6;
  --color-border-default: #ced4da;
  --color-border-dark: #adb5bd;
  
  /* System Colors - State */
  --color-state-hover: rgba(0, 0, 0, 0.075);
  --color-state-active: rgba(0, 0, 0, 0.125);
  --color-state-focus: rgba(0, 86, 179, 0.25);
  --color-state-disabled: rgba(0, 0, 0, 0.5);
  
  /* Table Colors */
  --table-color-default: transparent;
  --table-color-primary: #b8d4ff;
  --table-color-secondary: #d6d8db;
  --table-color-success: #c3e6cb;
  --table-color-danger: #f5c6cb;
  --table-color-warning: #ffeeba;
  --table-color-info: #bee5eb;
  --table-color-light: #fdfdfe;
  --table-color-dark: #c6c8ca;
  --table-color-striped: rgba(0, 0, 0, 0.05);
  --table-color-hover: rgba(0, 0, 0, 0.075);
  
  /* Legacy mappings for backward compatibility */
  --primary: var(--color-primary);
  --primary-light: var(--color-primary-300);
  --primary-dark: var(--color-primary-700);
  --secondary: var(--color-secondary);
  --secondary-light: var(--color-secondary-300);
  --secondary-dark: var(--color-secondary-700);
  --success: var(--color-success);
  --danger: var(--color-danger);
  --warning: var(--color-warning);
  --info: var(--color-info);
  --bg-light: var(--color-bg-secondary);
  --bg-white: var(--color-bg-primary);
  --bg-gray: var(--color-bg-tertiary);
  --text-primary: var(--color-text-primary);
  --text-secondary: var(--color-text-secondary);
  --text-muted: var(--color-text-muted);
  --border-color: var(--color-border-default);
  --border-light: var(--color-border-light);
}

/* Dark Theme */
[data-theme="dark"] {
  /* System Colors - Background */
  --color-bg-primary: #1a1a1a;
  --color-bg-secondary: #2d2d2d;
  --color-bg-tertiary: #404040;
  --color-bg-inverse: #ffffff;
  
  /* System Colors - Text */
  --color-text-primary: #e5e7eb;
  --color-text-secondary: #9ca3af;
  --color-text-muted: #6b7280;
  --color-text-light: #4b5563;
  --color-text-inverse: #1a1a1a;
  
  /* System Colors - Border */
  --color-border-light: #374151;
  --color-border-default: #4b5563;
  --color-border-dark: #6b7280;
  
  /* System Colors - State */
  --color-state-hover: rgba(255, 255, 255, 0.1);
  --color-state-active: rgba(255, 255, 255, 0.2);
  --color-state-focus: rgba(0, 86, 179, 0.4);
  --color-state-disabled: rgba(255, 255, 255, 0.3);
  
  /* Table Colors */
  --table-color-striped: rgba(255, 255, 255, 0.05);
  --table-color-hover: rgba(255, 255, 255, 0.075);
}

/* ダークモードのデフォルトテキスト色 */
[data-theme="dark"] {
  color: var(--color-text-primary);
}

/* ボタンやインプットなど特定の要素にのみ適用 */
[data-theme="dark"] body,
[data-theme="dark"] p,
[data-theme="dark"] div:not([style*="color"]),
[data-theme="dark"] span:not([style*="color"]),
[data-theme="dark"] td:not([style*="color"]),
[data-theme="dark"] th:not([style*="color"]),
[data-theme="dark"] li:not([style*="color"]) {
  color: var(--color-text-primary);
}

/* ダークモード時のインラインスタイル背景の調整 */
[data-theme="dark"] [style*="background-color: white"],
[data-theme="dark"] [style*="background-color: #fff"],
[data-theme="dark"] [style*="background-color: #ffffff"],
[data-theme="dark"] [style*="background-color: rgb(255, 255, 255)"] {
  background-color: var(--color-bg-secondary) !important;
}

/* サイドバー内の要素は別途スタイル指定 */
[data-theme="dark"] .sidebar,
[data-theme="dark"] .sidebar-desktop,
[data-theme="dark"] .sidebar-mobile {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

/* 特定の明るい背景色を検出して変更 */
[data-theme="dark"] [style*="f7fafc"] {
  background-color: var(--color-bg-secondary) !important;
}

[data-theme="dark"] [style*="f2f2f2"] {
  background-color: #3a3a3a !important;
}

[data-theme="dark"] [style*="1a202c"] {
  color: var(--color-text-primary) !important;
}

/* Base Styles */
body {
  color: var(--color-text-primary) !important;
  background-color: var(--color-bg-secondary) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Global text color inheritance */
body * {
  color: inherit;
}

/* Explicit text color for common elements - インラインスタイルを持つ要素は除外 */
h1:not([style*="color"]), h2:not([style*="color"]), 
h3:not([style*="color"]), h4:not([style*="color"]), 
h5:not([style*="color"]), h6:not([style*="color"]),
p:not([style*="color"]), span:not([style*="color"]), 
div:not([style*="color"]), label:not([style*="color"]),
th:not([style*="color"]), td:not([style*="color"]), 
li:not([style*="color"]), a:not([style*="color"]),
pre, code, kbd, samp,
.text-body, .text-dark {
  color: var(--color-text-primary);
}

/* 見出しタグのインラインスタイル色も上書き */
[data-theme="dark"] h1[style*="color"],
[data-theme="dark"] h2[style*="color"],
[data-theme="dark"] h3[style*="color"],
[data-theme="dark"] h4[style*="color"],
[data-theme="dark"] h5[style*="color"],
[data-theme="dark"] h6[style*="color"] {
  color: var(--color-text-primary) !important;
}

/* Secondary text elements */
.text-muted, .text-secondary, small {
  color: var(--color-text-muted) !important;
}

/* Link colors */
a:not(.btn) {
  color: var(--color-primary) !important;
}

a:not(.btn):hover {
  color: var(--color-primary-400) !important;
}

/* Main Content Area */
.main-content-area {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Sidebar Styles */
/* Light theme sidebar - 元の色に戻す */
.sidebar, .sidebar-desktop, .sidebar-mobile {
  background-color: #2c3e50 !important;
  color: #ecf0f1 !important;
}

/* サイドバーのボタンとリンク - 背景を透明に */
.sidebar button, 
.sidebar-desktop button,
.sidebar-mobile button {
  background-color: transparent !important;
  color: #ecf0f1 !important;
}

.sidebar a,
.sidebar-desktop a,
.sidebar-mobile a {
  color: #ecf0f1 !important;
}

/* サイドバーのボタンホバー時 */
.sidebar button:hover,
.sidebar-desktop button:hover,
.sidebar-mobile button:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* Dark theme sidebar */
[data-theme="dark"] .sidebar,
[data-theme="dark"] .sidebar-desktop,
[data-theme="dark"] .sidebar-mobile {
  background-color: #1f1f1f !important;
  color: #e5e7eb !important;
  border-right: 1px solid var(--color-border-dark);
}

[data-theme="dark"] .sidebar button,
[data-theme="dark"] .sidebar-desktop button,
[data-theme="dark"] .sidebar-mobile button {
  background-color: transparent !important;
  color: #e5e7eb !important;
}

[data-theme="dark"] .sidebar button:hover,
[data-theme="dark"] .sidebar-desktop button:hover,
[data-theme="dark"] .sidebar-mobile button:hover {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

[data-theme="dark"] .sidebar a,
[data-theme="dark"] .sidebar-desktop a,
[data-theme="dark"] .sidebar-mobile a {
  color: #e5e7eb !important;
}

/* Semantic Button Classes */
.btn-income {
  background-color: var(--color-semantic-income);
  border-color: var(--color-semantic-income);
  color: white;
}

.btn-income:hover {
  background-color: var(--color-semantic-income);
  border-color: var(--color-semantic-income);
  opacity: 0.9;
}

.btn-expense {
  background-color: var(--color-semantic-expense);
  border-color: var(--color-semantic-expense);
  color: white;
}

.btn-expense:hover {
  background-color: var(--color-semantic-expense);
  border-color: var(--color-semantic-expense);
  opacity: 0.9;
}

.btn-transfer {
  background-color: var(--color-semantic-transfer);
  border-color: var(--color-semantic-transfer);
  color: white;
}

.btn-transfer:hover {
  background-color: var(--color-semantic-transfer);
  border-color: var(--color-semantic-transfer);
  opacity: 0.9;
}

/* Semantic Text Classes */
.text-semantic-income {
  color: var(--color-semantic-income) !important;
}

.text-semantic-expense {
  color: var(--color-semantic-expense) !important;
}

.text-semantic-transfer {
  color: var(--color-semantic-transfer) !important;
}

.text-semantic-balance {
  color: var(--color-semantic-balance) !important;
}

.text-semantic-pending {
  color: var(--color-semantic-pending) !important;
}

.text-semantic-approved {
  color: var(--color-semantic-approved) !important;
}

.text-semantic-rejected {
  color: var(--color-semantic-rejected) !important;
}

/* Semantic Badge Classes */
.badge-income {
  background-color: var(--color-semantic-income);
}

.badge-expense {
  background-color: var(--color-semantic-expense);
}

.badge-transfer {
  background-color: var(--color-semantic-transfer);
}

.badge-balance {
  background-color: var(--color-semantic-balance);
}

.badge-pending {
  background-color: var(--color-semantic-pending);
  color: var(--color-text-primary);
}

.badge-approved {
  background-color: var(--color-semantic-approved);
}

.badge-rejected {
  background-color: var(--color-semantic-rejected);
}

/* Semantic Alert Classes */
.alert-income {
  background-color: rgba(40, 167, 69, 0.1);
  border-color: var(--color-semantic-income);
  color: var(--color-semantic-income);
}

.alert-expense {
  background-color: rgba(220, 53, 69, 0.1);
  border-color: var(--color-semantic-expense);
  color: var(--color-semantic-expense);
}

.alert-transfer {
  background-color: rgba(0, 123, 255, 0.1);
  border-color: var(--color-semantic-transfer);
  color: var(--color-semantic-transfer);
}

/* Card Components */
.card {
  background-color: var(--color-bg-primary) !important;
  border-color: var(--color-border-light) !important;
  color: var(--color-text-primary) !important;
}

.card-header {
  background-color: var(--color-bg-secondary) !important;
  border-bottom-color: var(--color-border-light) !important;
  color: var(--color-text-primary) !important;
}

.card-footer {
  background-color: var(--color-bg-secondary) !important;
  border-top-color: var(--color-border-light) !important;
  color: var(--color-text-primary) !important;
}

/* Table Styles */
.table {
  color: var(--color-text-primary) !important;
}

.table > :not(caption) > * > * {
  color: var(--color-text-primary) !important;
}

/* レポートページの表はインラインスタイルが多いので、背景色は上書きしない */
.table:not(.report-table) > :not(caption) > * > * {
  background-color: var(--color-bg-primary) !important;
}

/* Bootstrap table-secondary クラス - 統一定義 */
.table-secondary,
tr.table-secondary,
tr.table-secondary > td,
tr.table-secondary > th {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

/* ダークモード時のtable-secondary */
[data-theme="dark"] .table-secondary,
[data-theme="dark"] tr.table-secondary,
[data-theme="dark"] tr.table-secondary > td,
[data-theme="dark"] tr.table-secondary > th {
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

/* Bootstrap table-light クラスの上書き */
.table-light {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .table-light {
  background-color: #2d2d2d !important;
  color: var(--color-text-primary) !important;
}

/* bg-light クラスの上書き */
.bg-light {
  background-color: #f8f9fa !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .bg-light,
[data-theme="dark"] tr.bg-light,
[data-theme="dark"] tr.bg-light > td,
[data-theme="dark"] tr.bg-light > th {
  background-color: #374151 !important;
  color: var(--color-text-primary) !important;
}

.table-striped > tbody > tr:nth-of-type(odd) > * {
  background-color: var(--table-color-striped);
}

.table-hover > tbody > tr:hover > * {
  background-color: var(--table-color-hover);
}

/* Form Controls */
.form-control,
.form-select,
input, 
textarea, 
select {
  background-color: var(--color-bg-primary) !important;
  border-color: var(--color-border-default) !important;
  color: var(--color-text-primary) !important;
}

.form-control:focus,
.form-select:focus,
input:focus,
textarea:focus,
select:focus {
  background-color: var(--color-bg-primary) !important;
  border-color: var(--color-primary-300) !important;
  box-shadow: 0 0 0 0.2rem var(--color-state-focus) !important;
  color: var(--color-text-primary) !important;
}

/* Modal and Dropdown */
.modal-content {
  background-color: var(--color-bg-primary) !important;
  color: var(--color-text-primary) !important;
}

/* Pre and Code blocks */
pre, code {
  background-color: var(--color-bg-tertiary) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-default) !important;
}

[data-theme="dark"] pre,
[data-theme="dark"] code {
  background-color: #1a1a1a !important;
  color: #e5e7eb !important;
}

.dropdown-menu {
  background-color: var(--color-bg-primary) !important;
  color: var(--color-text-primary) !important;
}

.dropdown-item {
  color: var(--color-text-primary) !important;
}

.dropdown-item:hover {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
}

/* Report and Statement Styles */
/* ダークモード時のレポートページのインラインスタイル対応 */
/* 背景色が設定されている要素の文字を確実に表示 */
[data-theme="dark"] .table th,
[data-theme="dark"] .table td,
[data-theme="dark"] table th,
[data-theme="dark"] table td,
[data-theme="dark"] th,
[data-theme="dark"] td,
[data-theme="dark"] tr {
  color: var(--color-text-primary) !important;
}

/* th要素の中のテキストも確実に色を適用 */
[data-theme="dark"] th *,
[data-theme="dark"] td * {
  color: inherit !important;
}

/* ダークモード時、すべての要素に対して強制的に色を設定 */
[data-theme="dark"] * {
  color: var(--color-text-primary);
}

/* インラインスタイルで色が設定されている要素を上書き */
[data-theme="dark"] [style] {
  color: var(--color-text-primary) !important;
}

/* 特定の背景色を持つ要素をダークモード対応 */
[data-theme="dark"] [style*="backgroundColor: #f5f5f5"],
[data-theme="dark"] [style*="backgroundColor: rgb(245, 245, 245)"],
[data-theme="dark"] [style*="background-color: #f5f5f5"],
[data-theme="dark"] [style*="background-color: rgb(245, 245, 245)"] {
  background-color: #2a2a2a !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #e3f2fd"],
[data-theme="dark"] [style*="backgroundColor: rgb(227, 242, 253)"],
[data-theme="dark"] [style*="background-color: #e3f2fd"],
[data-theme="dark"] [style*="background-color: rgb(227, 242, 253)"] {
  background-color: #1e3a5f !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #ffebee"],
[data-theme="dark"] [style*="backgroundColor: rgb(255, 235, 238)"],
[data-theme="dark"] [style*="background-color: #ffebee"],
[data-theme="dark"] [style*="background-color: rgb(255, 235, 238)"] {
  background-color: #4a1c1c !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #e8f5e8"],
[data-theme="dark"] [style*="backgroundColor: rgb(232, 245, 232)"],
[data-theme="dark"] [style*="background-color: #e8f5e8"],
[data-theme="dark"] [style*="background-color: rgb(232, 245, 232)"] {
  background-color: #1a3a1a !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #f8f9fa"],
[data-theme="dark"] [style*="backgroundColor: rgb(248, 249, 250)"],
[data-theme="dark"] [style*="background-color: #f8f9fa"],
[data-theme="dark"] [style*="background-color: rgb(248, 249, 250)"] {
  background-color: #2d2d2d !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #e9ecef"],
[data-theme="dark"] [style*="backgroundColor: rgb(233, 236, 239)"],
[data-theme="dark"] [style*="background-color: #e9ecef"],
[data-theme="dark"] [style*="background-color: rgb(233, 236, 239)"] {
  background-color: #3a3a3a !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #fff3cd"],
[data-theme="dark"] [style*="backgroundColor: rgb(255, 243, 205)"],
[data-theme="dark"] [style*="background-color: #fff3cd"],
[data-theme="dark"] [style*="background-color: rgb(255, 243, 205)"] {
  background-color: #664d00 !important;
  color: #ffb800 !important;
}

/* 追加の白系背景色対応 */
[data-theme="dark"] [style*="backgroundColor: #fff"],
[data-theme="dark"] [style*="backgroundColor: rgb(255, 255, 255)"],
[data-theme="dark"] [style*="background-color: #fff"],
[data-theme="dark"] [style*="background-color: rgb(255, 255, 255)"],
[data-theme="dark"] [style*="backgroundColor: white"],
[data-theme="dark"] [style*="background-color: white"] {
  background-color: #1a1a1a !important;
  color: var(--color-text-primary) !important;
}

/* Phase14ページ（PaymentTestPanel）用の色対応 */
[data-theme="dark"] [style*="color: #2d3748"] {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] [style*="color: #4a5568"] {
  color: var(--color-text-secondary) !important;
}

[data-theme="dark"] [style*="backgroundColor: #f7fafc"],
[data-theme="dark"] [style*="background-color: #f7fafc"] {
  background-color: #2a2a2a !important;
  color: var(--color-text-primary) !important;
}

/* 試算表ページの特殊な色対応 - より強力なセレクタ */
[data-theme="dark"] [style*="0d6efd"] {
  color: #60a5fa !important;
}

[data-theme="dark"] [style*="b36b00"] {
  color: #fbbf24 !important;
}

[data-theme="dark"] [style*="888"] {
  color: var(--color-text-muted) !important;
}

[data-theme="dark"] [style*="green"] {
  color: #4ade80 !important;
}

[data-theme="dark"] [style*="crimson"] {
  color: #f87171 !important;
}

[data-theme="dark"] [style*="blue"] {
  color: #60a5fa !important;
}

/* ボーダー色の対応 */
[data-theme="dark"] [style*="borderTop: '2px solid #000'"],
[data-theme="dark"] [style*="border-top: 2px solid #000"],
[data-theme="dark"] [style*="border: 2px solid #000"],
[data-theme="dark"] [style*="border: '2px solid"] {
  border-color: var(--color-border-default) !important;
}

/* strong要素の文字色 */
[data-theme="dark"] strong {
  color: var(--color-text-primary) !important;
}

/* Phase14ページのTailwindクラス対応 */
[data-theme="dark"] .border-gray-300 {
  border-color: var(--color-border-default) !important;
}

[data-theme="dark"] .text-gray-800 {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .text-gray-600 {
  color: var(--color-text-secondary) !important;
}

/* Bootstrap の bg-white, bg-light クラス対応 */
[data-theme="dark"] .bg-white,
[data-theme="dark"] .bg-gray-50,
[data-theme="dark"] [class*="bg-white"],
[data-theme="dark"] [class*="bg-gray"] {
  background-color: var(--color-bg-primary) !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .bg-light {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
}

/* テーブルのボーダーカラー */
[data-theme="dark"] th[style*="border"],
[data-theme="dark"] td[style*="border"] {
  border-color: var(--color-border-default) !important;
}

/* 試算表ページ用の追加スタイル */
[data-theme="dark"] .balance-sheet-view {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .balance-sheet-view * {
  color: inherit !important;
}

/* 資産の部、負債の部などのセクションヘッダー */
[data-theme="dark"] .section-header,
[data-theme="dark"] .bs-section-header {
  background-color: #2a2a2a !important;
  color: var(--color-text-primary) !important;
}
/* レポートのヘッダー背景 */
.report-header-income,
.income-header {
  background-color: #e3f2fd !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .report-header-income,
[data-theme="dark"] .income-header {
  background-color: #1e3a5f !important;
  color: var(--color-text-primary) !important;
}

.report-header-expense,
.expense-header {
  background-color: #ffebee !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .report-header-expense,
[data-theme="dark"] .expense-header {
  background-color: #4a1c1c !important;
  color: var(--color-text-primary) !important;
}

/* レポートの行背景 */
.report-row-light {
  background-color: #f5f5f5 !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .report-row-light {
  background-color: #2a2a2a !important;
  color: var(--color-text-primary) !important;
}

.report-row-accent {
  background-color: #f8f9fa !important;
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .report-row-accent {
  background-color: #2d2d2d !important;
  color: var(--color-text-primary) !important;
}

.report-row-total {
  background-color: #e9ecef !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

[data-theme="dark"] .report-row-total {
  background-color: #3a3a3a !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

/* 収入の合計行 */
.report-row-income-total {
  background-color: #e8f5e8 !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

[data-theme="dark"] .report-row-income-total {
  background-color: #1a3a1a !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

/* 支出の合計行 */
.report-row-expense-total {
  background-color: #ffebee !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

[data-theme="dark"] .report-row-expense-total {
  background-color: #4a1c1c !important;
  color: var(--color-text-primary) !important;
  font-weight: bold;
}

/* 警告メッセージ */
.report-warning {
  background-color: #fff3cd !important;
  color: #856404 !important;
}

[data-theme="dark"] .report-warning {
  background-color: #664d00 !important;
  color: #ffb800 !important;
}

/* Theme Switcher */
.theme-switcher {
  display: flex;
  gap: 0.5rem;
}

.theme-switcher button {
  padding: 0.25rem 0.5rem;
  border: 1px solid var(--color-border-default);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.theme-switcher button:hover {
  background-color: var(--color-bg-tertiary);
}

.theme-switcher button.active {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

/* Print Styles */
@media print {
  body,
  .main-content-area {
    background-color: white !important;
    color: black !important;
  }
  
  .table,
  .table > :not(caption) > * > * {
    color: black !important;
  }
  
  /* レポートのインラインスタイルを印刷用に調整 */
  th[style*="backgroundColor"],
  td[style*="backgroundColor"],
  tr[style*="backgroundColor"],
  div[style*="backgroundColor"],
  h5[style*="backgroundColor"] {
    filter: none !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}